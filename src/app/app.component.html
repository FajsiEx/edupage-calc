<div class="title">
  <h1>EduPage Grade Calculator</h1>
  <p>Doing what EduPage can't since 2019</p>
</div>

<div class="subject" *ngFor="let subject of subjects">
  <div class="subject-name">{{subject.name}}</div>
  <div class="subject-grades">
    <div class="subject-grade" *ngFor="let grade of subject.grades">
      <div *ngIf="grade.type == 'points'">
        <input [(ngModel)]="grade.reached" (change)="onInput()">
        /
        <input [(ngModel)]="grade.total" (change)="onInput()">
      </div>

      <div *ngIf="grade.type == 'grade'">
        <input [(ngModel)]="grade.grade" (change)="onInput()">
        <br>
        <span class="grade-weight">
          <input [(ngModel)]="grade.weight" (change)="onInput()">
        </span>
      </div>
    </div>

    <div class="subject-grade subject-average" [ngClass]="
      {
        one: ((subject.grades.type == 'grade') && (subject.grades.average < 1.5)) || ((subject.grades.type == 'points') && (subject.grades.average >= 88)),
        two: ((subject.grades.type == 'grade') && (subject.grades.average < 2.5)) || ((subject.grades.type == 'points') && (subject.grades.average >= 75)),
        thr: ((subject.grades.type == 'grade') && (subject.grades.average < 3.5)) || ((subject.grades.type == 'points') && (subject.grades.average >= 60)),
        fou: ((subject.grades.type == 'grade') && (subject.grades.average < 4.5)) || ((subject.grades.type == 'points') && (subject.grades.average >= 45)),
        fiv: true
      }
    ">
      <span *ngIf="subject.grades.type === 'points'">{{subject.grades.average}}%</span>
      <span *ngIf="subject.grades.type === 'grade'">{{subject.grades.average}}</span>
    </div>
  </div>
</div>

<router-outlet></router-outlet>